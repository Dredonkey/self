
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4.3. Blocks, Booleans, and Control Structures &#8212; Self Handbook 2023.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e46715c6"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'blocks';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4.4. Numbers and Time" href="numbers.html" />
    <link rel="prev" title="4.2. The Roots of Behavior" href="roots.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">Self Handbook 2023.1 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="intro.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="gettingstarted.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="langref.html">
                        Language Reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="selfwrld.html">
                        The Self World
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="progguid.html">
                        A Guide to Programming Style
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="howtoprg.html">
                        How to Program in Self
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="morphic.html">
                        Morphic: The Self User Interface Framework
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="vmref.html">
                        Virtual Machine Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="ref.html">
                        References
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="appendices.html">
                        Appendices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="extras.html">
                        Extras
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="intro.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="gettingstarted.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="langref.html">
                        Language Reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="selfwrld.html">
                        The Self World
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="progguid.html">
                        A Guide to Programming Style
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="howtoprg.html">
                        How to Program in Self
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="morphic.html">
                        Morphic: The Self User Interface Framework
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="vmref.html">
                        Virtual Machine Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="ref.html">
                        References
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="appendices.html">
                        Appendices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="extras.html">
                        Extras
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="worldorg.html">4.1. World Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="roots.html">4.2. The Roots of Behavior</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">4.3. Blocks, Booleans, and Control Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="numbers.html">4.4. Numbers and Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">4.5. Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="pairs.html">4.6. Pairs</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirrors.html">4.7. Mirrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">4.8. Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="processes.html">4.9. Processes and Concurrency</a></li>
<li class="toctree-l1"><a class="reference internal" href="foreign.html">4.10. Foreign Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="unix.html">4.11. I/O and Unix</a></li>
<li class="toctree-l1"><a class="reference internal" href="oddball.html">4.12. Other Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildworld.html">4.13. How to build the world</a></li>
<li class="toctree-l1"><a class="reference internal" href="lowlevel.html">4.14. How to use the low-level interrupt facilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="textdebug.html">4.15. Using the textual debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">4.16. Logging</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="selfwrld.html" class="nav-link"><span class="section-number">4. </span>The Self World</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="section-number">4.3. </span>Blocks, Booleans, and Control Structures</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="blocks-booleans-and-control-structures">
<h1><span class="section-number">4.3. </span>Blocks, Booleans, and Control Structures<a class="headerlink" href="#blocks-booleans-and-control-structures" title="Permalink to this heading">#</a></h1>
<p>A <em>block</em> is a special kind of object containing a sequence of statements. When a block is evaluated
by being sent an acceptable <code class="docutils literal notranslate"><span class="pre">value</span></code> message, its statements are executed in the context of the current
activation of the method in which the block is declared. This allows the statements in the block
to access variables local to the block’s enclosing method and any enclosing blocks in that method.
(This set of variables comprises the lexical scope of the block.) It also means that within the block,
<code class="docutils literal notranslate"><span class="pre">self</span></code> refers to the receiver of the message that activated the method, not to the block object itself.
A return statement in a block causes a return from the block’s enclosing method. (See chapter <a class="reference internal" href="langref.html#pp-langref"><span class="std std-ref">Language Reference</span></a>
- <a class="reference internal" href="langref.html"><span class="doc">Language Reference</span></a> for a more thorough discussion of block semantics.)</p>
<p>A block can take an arbitrary number of arguments and can have its own local variables, as well as
having access to the local variables of its enclosing method. The statements in the block are executed
when the block is sent a message of the form <code class="docutils literal notranslate"><span class="pre">“value[:{With:}]”</span></code>, where the number of colons
in the message is at least the same as the number of arguments the block takes (extra
arguments are ignored, but it is an error to provide too few). For example, the following block takes
two arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">|</span> <span class="p">:</span><span class="n">arg1</span><span class="o">.</span> <span class="p">:</span><span class="n">arg2</span> <span class="o">|</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span> <span class="p">]</span>
</pre></div>
</div>
<p>and can be evaluated by sending it the message <code class="docutils literal notranslate"><span class="pre">value:With:</span></code> to produce the sum of its arguments.
Blocks are used to implement all control structures in Self and allow the programmer to
easily extend the system with customized control structures. In fact, all control stuctures in Self
except message sends, returns, and VM error handling are implemented using blocks.</p>
<section id="booleans-and-conditionals">
<h2><span class="section-number">4.3.1. </span>Booleans and Conditionals<a class="headerlink" href="#booleans-and-conditionals" title="Permalink to this heading">#</a></h2>
<p>The fundamental control structure is the conditional. In Self, the behavior of conditionals is defined
by two unique boolean objects, <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>. Boolean objects respond to the messages
<code class="docutils literal notranslate"><span class="pre">ifTrue:</span></code>, <code class="docutils literal notranslate"><span class="pre">ifFalse:</span></code>, <code class="docutils literal notranslate"><span class="pre">ifTrue:False:</span></code>, and <code class="docutils literal notranslate"><span class="pre">ifFalse:True:</span></code> by evaluating the appropriate argument
block. For example, <code class="docutils literal notranslate"><span class="pre">true</span></code> implements <code class="docutils literal notranslate"><span class="pre">ifTrue:False:</span></code> as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ifTrue</span><span class="p">:</span> <span class="n">b1</span> <span class="kc">False</span><span class="p">:</span> <span class="n">b2</span> <span class="o">=</span> <span class="p">(</span> <span class="n">b1</span> <span class="n">value</span> <span class="p">)</span>
</pre></div>
</div>
<p>That is, when <code class="docutils literal notranslate"><span class="pre">true</span></code> is sent <code class="docutils literal notranslate"><span class="pre">ifTrue:False:</span></code>, it evaluates the first block and ignores the second.
For example, the following expression evaluates to the absolute value of x:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="n">ifTrue</span><span class="p">:</span> <span class="p">[</span> <span class="n">x</span> <span class="n">negate</span> <span class="p">]</span> <span class="kc">False</span><span class="p">:</span> <span class="p">[</span> <span class="n">x</span> <span class="p">]</span>
</pre></div>
</div>
<p>The booleans also define behavior for the logical operations <code class="docutils literal notranslate"><span class="pre">AND</span> <span class="pre">(&amp;&amp;),</span> <span class="pre">OR</span> <span class="pre">(||),</span> <span class="pre">EXCLUSIVE-OR</span>
<span class="pre">(^^)</span></code>, and <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">(not)</span></code>. Because the binary boolean operators all send value to their argument when
necessary, they can also be used for “short-circuit” evaluation by supplying a block, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">[</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">maxByte</span> <span class="n">pred</span><span class="p">]</span> <span class="n">ifTrue</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span>
</pre></div>
</div>
<p>Module: boolean</p>
</section>
<section id="loops">
<h2><span class="section-number">4.3.2. </span>Loops<a class="headerlink" href="#loops" title="Permalink to this heading">#</a></h2>
<p>The various idioms for constructing loops in Self are best illustrated by example.
Here is an endless loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="o">...</span> <span class="p">]</span> <span class="n">loop</span>
</pre></div>
</div>
<p>Here are two loops that test for their termination condition at the beginning of the loop:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">proceed</span> <span class="p">]</span> <span class="n">whileTrue</span><span class="p">:</span> <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>
<span class="p">[</span> <span class="n">quit</span> <span class="p">]</span> <span class="n">whileFalse</span><span class="p">:</span> <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
<p>In each case, the block that receives the message repeatedly evaluates itself and, if the termination
condition is not yet met, evaluates the argument block. The value returned by both loop expressions
is <code class="docutils literal notranslate"><span class="pre">nil</span></code>.</p>
<p>It is also possible to put the termination test at the end of the loop, ensuring that the loop body is
executed at least once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="o">...</span> <span class="p">]</span> <span class="n">untilTrue</span><span class="p">:</span> <span class="p">[</span> <span class="n">quit</span> <span class="p">]</span>
<span class="p">[</span> <span class="o">...</span> <span class="p">]</span> <span class="n">untilFalse</span><span class="p">:</span> <span class="p">[</span> <span class="n">proceed</span> <span class="p">]</span>
</pre></div>
</div>
<p>Here is a loop that exits from the middle when quit becomes true:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">|</span> <span class="p">:</span><span class="n">exit</span> <span class="o">|</span> <span class="o">...</span> <span class="n">quit</span> <span class="n">ifTrue</span><span class="p">:</span> <span class="n">exit</span> <span class="o">...</span> <span class="p">]</span> <span class="n">loopExit</span>
</pre></div>
</div>
<p>For the incurably curious: the parameter to the user’s block, supplied by the <code class="docutils literal notranslate"><span class="pre">loopExit</span></code> method, is simply a block that
does a return from the <code class="docutils literal notranslate"><span class="pre">loopExit</span></code> method. Thus, the loop terminates when <code class="docutils literal notranslate"><span class="pre">exit</span> <span class="pre">value</span></code> is evaluated. The constructs
<code class="docutils literal notranslate"><span class="pre">loopExitValue</span></code>, <code class="docutils literal notranslate"><span class="pre">exit</span></code>, and <code class="docutils literal notranslate"><span class="pre">exitValue</span></code> are implemented in a similar manner.</p>
<p>The value returned by the overall <code class="docutils literal notranslate"><span class="pre">[...]</span> <span class="pre">loopExit</span></code> expression is <code class="docutils literal notranslate"><span class="pre">nil</span></code>. Here is a loop expression
that exits and evaluates to a value determined by the programmer when quit becomes true:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">|</span> <span class="p">:</span><span class="n">exit</span> <span class="o">|</span> <span class="o">...</span> <span class="n">quit</span> <span class="n">ifTrue</span><span class="p">:</span> <span class="p">[</span> <span class="n">exit</span> <span class="n">value</span><span class="p">:</span> <span class="n">expr</span> <span class="p">]</span> <span class="p">]</span> <span class="n">loopExitValue</span>
</pre></div>
</div>
<p>Module: block</p>
</section>
<section id="block-exits">
<h2><span class="section-number">4.3.3. </span>Block Exits<a class="headerlink" href="#block-exits" title="Permalink to this heading">#</a></h2>
<p>It is sometimes convenient to exit a block early, without executing its remaining statements. The
following constructs support this behavior:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">|</span> <span class="p">:</span><span class="n">exit</span> <span class="o">|</span> <span class="o">...</span> <span class="n">quit</span> <span class="n">ifTrue</span><span class="p">:</span> <span class="n">exit</span> <span class="o">...</span> <span class="p">]</span> <span class="n">exit</span>
<span class="p">[</span><span class="o">|</span> <span class="p">:</span><span class="n">exit</span> <span class="o">|</span> <span class="o">...</span> <span class="n">quit</span> <span class="n">ifTrue</span><span class="p">:</span> <span class="p">[</span> <span class="n">exit</span> <span class="n">value</span><span class="p">:</span> <span class="n">expr</span> <span class="p">]</span> <span class="o">...</span> <span class="p">]</span> <span class="n">exitValue</span>
</pre></div>
</div>
<p>The first expression evaluates to nil if the block exits early; the second allows the programmer to
define the expression’s value when the block exits early. Note: These constructs should not be confused
with their looping counterparts <code class="docutils literal notranslate"><span class="pre">loopExit</span></code> and <code class="docutils literal notranslate"><span class="pre">loopExitValue</span></code>.</p>
<p>Module: block</p>
</section>
<section id="other-block-behavior">
<h2><span class="section-number">4.3.4. </span>Other Block Behavior<a class="headerlink" href="#other-block-behavior" title="Permalink to this heading">#</a></h2>
<p>Blocks have some other useful behavior:</p>
<blockquote>
<div><ul class="simple">
<li><p>One can determine the time in milliseconds required to execute a block using various ways of measuring time using the messages <code class="docutils literal notranslate"><span class="pre">userTime</span></code>, <code class="docutils literal notranslate"><span class="pre">systemTime</span></code>, <code class="docutils literal notranslate"><span class="pre">cpuTime</span></code>, and <code class="docutils literal notranslate"><span class="pre">realTime</span></code>.</p></li>
<li><p>One can profile the execution of a block using the messages <code class="docutils literal notranslate"><span class="pre">profile</span></code> and <code class="docutils literal notranslate"><span class="pre">flatProfile</span></code>. <code class="docutils literal notranslate"><span class="pre">profile</span></code> prints out the source level call graph annotated with call site and timing information   whereas <code class="docutils literal notranslate"><span class="pre">flatProfile</span></code> prints out a flat profile sorted by module.</p></li>
<li><p>The message <code class="docutils literal notranslate"><span class="pre">countSends</span></code> will collect lookup statistics during a block execution.</p></li>
</ul>
</div></blockquote>
<p>Any object that inherits from the lobby can be passed to a method that expects a block; behavior in <code class="docutils literal notranslate"><span class="pre">defaultBehavior</span></code> makes the object behave like a block that evaluates to that object.</p>
<p>Module: block</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
</aside>
</aside>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="roots.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">4.2. </span>The Roots of Behavior</p>
      </div>
    </a>
    <a class="right-next"
       href="numbers.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4.4. </span>Numbers and Time</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#booleans-and-conditionals">4.3.1. Booleans and Conditionals</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loops">4.3.2. Loops</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#block-exits">4.3.3. Block Exits</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-block-behavior">4.3.4. Other Block Behavior</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/blocks.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, Russell Allen (Ed.).
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>