
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. Language Reference &#8212; Self Handbook 2023.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e46715c6"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'langref';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. The Self World" href="selfwrld.html" />
    <link rel="prev" title="2. Getting Started" href="gettingstarted.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">Self Handbook 2023.1 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="intro.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="gettingstarted.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Language Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="selfwrld.html">
                        The Self World
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="progguid.html">
                        A Guide to Programming Style
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="howtoprg.html">
                        How to Program in Self
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="morphic.html">
                        Morphic: The Self User Interface Framework
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="vmref.html">
                        Virtual Machine Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="ref.html">
                        References
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="appendices.html">
                        Appendices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="extras.html">
                        Extras
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="intro.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="gettingstarted.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Language Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="selfwrld.html">
                        The Self World
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="progguid.html">
                        A Guide to Programming Style
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="howtoprg.html">
                        How to Program in Self
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="morphic.html">
                        Morphic: The Self User Interface Framework
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="vmref.html">
                        Virtual Machine Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="ref.html">
                        References
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="appendices.html">
                        Appendices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="extras.html">
                        Extras
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="section-number">3. </span>Language Reference</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="language-reference">
<span id="langref"></span><span id="pp-langref"></span><h1><span class="section-number">3. </span>Language Reference<a class="headerlink" href="#language-reference" title="Permalink to this heading">#</a></h1>
<p>This chapter specifies Self’s syntax and semantics. An early version of the syntax was presented
in the original Self paper by Ungar and Smith <a class="reference internal" href="ref.html#citations"><span class="std std-ref">[US87]</span></a> ; this chapter incorporates subsequent
changes to the language. The presentation assumes a basic understanding of object-oriented concepts.</p>
<p>The syntax is described using Extended Backus-Naur Form (EBNF). Terminal symbols appear in
Courier and are enclosed in single quotes; they should appear in code as written (not including
the single quotes). Non-terminal symbols are italicized. The following table describes the metasymbols:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>META-SYMBOL</p></td>
<td><p>FUNCTION</p></td>
<td><p>DESCRIPTION</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(</span></code> and <code class="docutils literal notranslate"><span class="pre">)</span></code></p></td>
<td><p>grouping</p></td>
<td><p>used to group syntactic constructions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[</span></code> and <code class="docutils literal notranslate"><span class="pre">]</span></code></p></td>
<td><p>option</p></td>
<td><p>encloses an optional construction</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{</span></code> and <code class="docutils literal notranslate"><span class="pre">}</span></code></p></td>
<td><p>repetition</p></td>
<td><p>encloses a construction that may be repeated zero or more times</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\</span></code></p></td>
<td><p>alternative</p></td>
<td><p>separates alternative constructions</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">→</span></code></p></td>
<td><p>production</p></td>
<td><p>separates the left and right hand sides of a production</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>A glossary of terms used in this document can be found in <a class="reference internal" href="glossary.html"><span class="doc">Appendix A</span></a>.</p>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><section id="objects">
<span id="index-2"></span><h2><span class="section-number">3.1. </span>Objects<a class="headerlink" href="#objects" title="Permalink to this heading">#</a></h2>
<p><em>Objects</em> are the fundamental entities in Self; every entity in a Self program is represented by one
or more objects. Even control is handled by objects: <em>blocks</em> (<a class="reference internal" href="#pp-langref-blocks"><span class="std std-ref">Blocks</span></a>) are Self closures used to implement
user-defined control structures. An object is composed of a (possibly empty) set of <em>slots</em>
and, optionally, <em>code</em> (<a class="reference internal" href="#pp-langref-code"><span class="std std-ref">Code</span></a>). A slot is a name-value pair; slots contain references to other objects.
When a slot is found during a <em>message lookup</em> (<a class="reference internal" href="#pp-langref-message-lookup"><span class="std std-ref">Message lookup semantics</span></a>) the object in the slot is evaluated.</p>
<p>Although everything is an object in Self, not all objects serve the same purpose; certain kinds of
objects occur frequently enough in specialized roles to merit distinct terminology and syntax. This
chapter introduces two kinds of objects, namely data objects (“plain” objects) and the two kinds of
objects with code, ordinary methods and block methods.</p>
<section id="syntax">
<span id="index-3"></span><h3><span class="section-number">3.1.1. </span>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading">#</a></h3>
<p><em>Object literals</em> are delimited by parentheses. Within the parentheses, an object description consists
of a list of slots delimited by vertical bars (‘<code class="docutils literal notranslate"><span class="pre">|</span></code>’), followed by the code to be executed when the object
is evaluated. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>( | slot1. slot2 | ’here is some code’ printLine )
</pre></div>
</div>
<p>Both the slot list and code are optional: ‘<code class="docutils literal notranslate"><span class="pre">(|</span> <span class="pre">|)</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">()</span></code>’ each denote an empty object <a class="footnote-reference brackets" href="#f1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p><em>Block objects</em> are written like other objects, except that square brackets (‘<code class="docutils literal notranslate"><span class="pre">[</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">]</span></code>’) are used in
place of parentheses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[ | slot1. slot2 | ’here is some code in a block’ printLine ]
</pre></div>
</div>
<p>A <em>slot list</em> consists of a (possibly empty) sequence of <em>slot descriptors</em> (<a class="reference internal" href="#pp-langref-slot-descriptors"><span class="std std-ref">Slot descriptors</span></a>) separated by periods.
A period at the end of the slot list is optional <a class="footnote-reference brackets" href="#f2" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<p>The code for an object is a sequence of <em>expressions</em> (<a class="reference internal" href="#pp-langref-expressions"><span class="std std-ref">Expressions</span></a>) separated by periods. A trailing period
is optional. Each expression consists of a series of <em>message sends</em> and <em>literals</em>. The last expression
in the code for an object may be preceded by the ‘<code class="docutils literal notranslate"><span class="pre">^</span></code>’ operator (<a class="reference internal" href="#pp-langref-returns"><span class="std std-ref">Returns</span></a>).</p>
<span class="target" id="index-4"></span></section>
<section id="data-objects">
<span id="index-5"></span><h3><span class="section-number">3.1.2. </span>Data objects<a class="headerlink" href="#data-objects" title="Permalink to this heading">#</a></h3>
<p><em>Data objects</em> are objects without code. Data objects can have any number of slots. For example, the
object <code class="docutils literal notranslate"><span class="pre">()</span></code> has no slots (i.e., it’s empty) while the object <code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">|</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">17.</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">18</span> <span class="pre">|</span> <span class="pre">)</span></code> has two slots,
<code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_1.png"><img alt="_images/Chapter_2_Image_1.png" src="_images/Chapter_2_Image_1.png" style="width: 385.6px; height: 87.2px;" /></a>
</figure>
<p>A data object returns itself when evaluated.</p>
<span class="target" id="index-6"></span><span class="target" id="index-7"></span><span class="target" id="index-8"></span><span class="target" id="index-9"></span></section>
<section id="the-assignment-primitive">
<span id="index-10"></span><h3><span class="section-number">3.1.3. </span>The assignment primitive<a class="headerlink" href="#the-assignment-primitive" title="Permalink to this heading">#</a></h3>
<p>A slot containing the assignment primitive is called an <em>assignment slot</em> (<a class="reference internal" href="#pp-read-write-slots"><span class="std std-ref">Read/write slots</span></a>). When an assignment
slot is evaluated, the argument to the message is stored in the corresponding <em>data slot</em> (<a class="reference internal" href="#pp-langref-slot-descriptors"><span class="std std-ref">Slot descriptors</span></a>)
in the same object (the slot whose name is the assignment slot’s name minus the trailing colon),
and the <em>receiver</em> (<a class="reference internal" href="#pp-implicit-receiver"><span class="std std-ref">Implicit-receiver messages</span></a>) is returned as the result. (Note: this means that the value of an assignment
statement is the left-hand side of the assignment statement, not the right-hand side as it is in Smalltalk,
C, and many other languages. This is a potential source of confusion for new Self programmers.)</p>
<span class="target" id="index-11"></span><span class="target" id="index-12"></span><span class="target" id="index-13"></span><span class="target" id="index-14"></span><span class="target" id="index-15"></span><span class="target" id="index-16"></span><span class="target" id="index-17"></span></section>
<section id="objects-with-code">
<span id="index-18"></span><h3><span class="section-number">3.1.4. </span>Objects with code<a class="headerlink" href="#objects-with-code" title="Permalink to this heading">#</a></h3>
<p>The feature that distinguishes a <em>method object</em> from a data object is that it has <em>code</em>, whereas a data
object does not. Evaluating a method object does not simply return the object itself, as with simple
data objects; rather, its code is executed and the resulting value is returned.</p>
</section>
<section id="code">
<span id="pp-langref-code"></span><h3><span class="section-number">3.1.5. </span>Code<a class="headerlink" href="#code" title="Permalink to this heading">#</a></h3>
<p><em>Code</em> is a sequence of <em>expressions</em> (<a class="reference internal" href="#pp-langref-expressions"><span class="std std-ref">Expressions</span></a>). These expressions are evaluated in order, and the resulting
values are discarded except for that of the final expression, whose value determines the result
of evaluating the code.</p>
<p>The actual arguments in a message send are evaluated from left to right before the message is sent.
For instance, in the expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">to</span><span class="p">:</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">i</span> <span class="n">By</span><span class="p">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">j</span> <span class="n">Do</span><span class="p">:</span> <span class="p">[</span><span class="o">|</span> <span class="p">:</span><span class="n">k</span> <span class="o">|</span> <span class="n">k</span> <span class="nb">print</span> <span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">1</span></code> is evaluated first, then <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">*</span> <span class="pre">i</span></code>, then <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">j</span></code>, and then <code class="docutils literal notranslate"><span class="pre">[|</span> <span class="pre">:k</span> <span class="pre">|</span> <span class="pre">k</span> <span class="pre">print]</span></code>. Finally, the <code class="docutils literal notranslate"><span class="pre">to:By:Do:</span></code>
message is sent. The associativity and precedence of messages is discussed in section <a class="reference internal" href="#langref-expressions"><span class="std std-ref">Expressions</span></a>.</p>
</section>
<section id="methods">
<span id="pp-methods"></span><span id="index-19"></span><h3><span class="section-number">3.1.6. </span>Methods<a class="headerlink" href="#methods" title="Permalink to this heading">#</a></h3>
<p><em>Ordinary methods</em> (or simply “methods”) are methods that are not embedded in other code. A
method can have <em>argument slots</em> (<a class="reference internal" href="#pp-argument-slots"><span class="std std-ref">Slots containing methods</span></a>) and/or local slots. An ordinary method always has an implicit
<em>parent</em> (<a class="reference internal" href="#pp-parent-slots"><span class="std std-ref">Parent slots</span></a>) argument slot named <code class="docutils literal notranslate"><span class="pre">self</span></code>. Ordinary methods are Self’s equivalent of
Smalltalk’s methods.</p>
<p>If a slot contains a method, the following steps are performed when the slot is evaluated as the result
of a message send:</p>
<blockquote>
<div><ul class="simple">
<li><p>The method object is <em>cloned</em>, creating a new <em>method activation object</em> containing slots for the method’s arguments and locals.</p></li>
<li><p>The clone’s self parent slot is initialized to the receiver of the message.</p></li>
<li><p>The clone’s argument slots, if any, are initialized to the values of the corresponding actual arguments.</p></li>
<li><p>The code of the method is executed in the context of this new activation object.</p></li>
</ul>
</div></blockquote>
<p>For example, consider the method <code class="docutils literal notranslate"><span class="pre">(|</span> <span class="pre">:arg</span> <span class="pre">|</span> <span class="pre">arg</span> <span class="pre">*</span> <span class="pre">arg</span> <span class="pre">)</span></code>:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_2.png"><img alt="_images/Chapter_2_Image_2.png" src="_images/Chapter_2_Image_2.png" style="width: 392.8px; height: 138.4px;" /></a>
</figure>
<p>This method has an argument slot <code class="docutils literal notranslate"><span class="pre">arg</span></code> and returns the square of its argument.</p>
<span class="target" id="index-20"></span><span class="target" id="index-21"></span><span class="target" id="index-22"></span><span class="target" id="index-23"></span><span class="target" id="index-24"></span><span class="target" id="index-25"></span></section>
<section id="blocks">
<span id="pp-langref-blocks"></span><span id="index-26"></span><h3><span class="section-number">3.1.7. </span>Blocks<a class="headerlink" href="#blocks" title="Permalink to this heading">#</a></h3>
<p><em>Blocks</em> are Self closures; they are used to implement user-defined control structures. A block literal
(delimited by square brackets) defines two objects: the <em>block method object</em>, containing the
block’s code, and an enclosing <em>block data object</em>. The block data object contains a parent pointer
(pointing to the object containing the shared behavior for block objects) and a slot containing the
block method object. Unlike an ordinary method object, the block method object does not contain
a self slot. Instead, it has an anonymous parent slot that is initialized to point to the activation object
for the lexically enclosing block or method. As a result, <em>implicit-receiver messages</em> (<a class="reference internal" href="#pp-implicit-receiver"><span class="std std-ref">Implicit-receiver messages</span></a>)
sent within a block method are lexically scoped. The block method object’s anonymous parent slot
is invisible at the Self level and cannot be accessed explicitly.</p>
<p>For example, the block <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">3</span> <span class="pre">+</span> <span class="pre">4</span> <span class="pre">]</span></code> looks like <a class="footnote-reference brackets" href="#f3" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_3.png"><img alt="_images/Chapter_2_Image_3.png" src="_images/Chapter_2_Image_3.png" style="width: 563.2px; height: 256.0px;" /></a>
</figure>
<p>The block method’s selector is based on the number of arguments. If the block takes no arguments,
the selector is <code class="docutils literal notranslate"><span class="pre">value</span></code>. If it takes one argument, the selector is <code class="docutils literal notranslate"><span class="pre">value:</span></code>. If it takes two arguments,
the selector is <code class="docutils literal notranslate"><span class="pre">value:With:</span></code>, for three the selector is <code class="docutils literal notranslate"><span class="pre">value:With:With:</span></code>, and for more the selector
is just extended by enough <code class="docutils literal notranslate"><span class="pre">With:’s</span></code> to match the number of block arguments.</p>
<p>Block evaluation has two phases. In the first phase, a block object is created because the block is
evaluated (e.g., it is used as an argument to a message send). The block is cloned and given a
pointer to the activation record for its lexically enclosing scope, the current activation record. In the
second phase, the block’s method is evaluated as a result of sending the block the appropriate variant
of the <code class="docutils literal notranslate"><span class="pre">value</span></code> message. The block method is then cloned, the argument slots of the clone are
filled in, the anonymous parent slot of the clone is initialized using the scope pointer determined in
phase one, and, finally, the block’s code is executed.</p>
<p>It is an error to evaluate a block method after the activation record for its lexically enclosing scope
has returned. Such a block is called a <em>non-lifo</em> block because returning from it would violate the
last-in, first-out semantics of activation object invocation.</p>
<p>This restriction is made primarily to allow activation records to be allocated from a stack. A future
release of Self may relax this restriction, at least for blocks that do not access variables in
enclosing scopes.</p>
</section>
<section id="returns">
<span id="pp-langref-returns"></span><span id="index-27"></span><h3><span class="section-number">3.1.8. </span>Returns<a class="headerlink" href="#returns" title="Permalink to this heading">#</a></h3>
<p>A <em>return</em> is denoted by preceding an expression by the ‘<code class="docutils literal notranslate"><span class="pre">^</span></code>’ operator. A return causes the value of the given expression to be returned as the result of evaluating the method or block. Only the last ex­pression in an object may be a return.</p>
<p>The presence or absence of the ‘<code class="docutils literal notranslate"><span class="pre">^</span></code>’ operator does not effect the behavior of ordinary methods, since an ordinary method always returns the value of its final expression anyway. In a block, however, a return causes control to be returned from the ordinary method containing that block, immediately terminating that method’s activation, the block’s activation, and all activations in between. Such a return is called a <em>non-local return</em>, since it may “return through” a number of activations. The result of the ordinary method’s evaluation is the value returned by the <em>non-local return</em>. For example, in the following method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>assertPositive: x = (
                x &gt; 0 ifTrue: [ ^ ’ok’ ].
                error: ’non-positive x’ )
</pre></div>
</div>
<p>the <code class="docutils literal notranslate"><span class="pre">error:</span></code> message will not be sent if <code class="docutils literal notranslate"><span class="pre">x</span></code> is positive because the non-local return of <code class="docutils literal notranslate"><span class="pre">’ok’</span></code> causes the <code class="docutils literal notranslate"><span class="pre">assertPositive:</span></code> method to return immediately.</p>
</section>
<section id="construction-of-object-literals">
<span id="index-28"></span><h3><span class="section-number">3.1.9. </span>Construction of object literals<a class="headerlink" href="#construction-of-object-literals" title="Permalink to this heading">#</a></h3>
<p>Object literals are constructed during parsing — the parser converts objects in textual form into real Self objects.
An object literal is constructed as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>First, the slot initializers of every slot are evaluated from left to right. If a slot initializer contains
another object literal, this literal is constructed before the initializer containing it is evaluated.
If the initializer is an expression, it is evaluated in the context of the lobby.</p></li>
<li><p>Second, the object is created, and its slots are initialized with the results of the evaluations performed
in the first step.</p></li>
</ul>
</div></blockquote>
<p>Slot initializers are <em>not</em> evaluated in the lexical context, since none exists at parse time; they are evaluated
in the context of an object known as the <code class="docutils literal notranslate"><span class="pre">lobby</span></code>. That is, the initializers are evaluated as if they were the code
of a method in a slot of the <code class="docutils literal notranslate"><span class="pre">lobby</span></code>. This two-phase object construction pro­cess implies that slot initializers may
not refer to any other slots within the constructed object (as with Scheme’s <code class="docutils literal notranslate"><span class="pre">let*</span></code> and <code class="docutils literal notranslate"><span class="pre">letrec</span></code> forms) and, more generally,
that a slot initializer may not refer to any textually enclosing object literal.</p>
<span class="target" id="index-29"></span><span class="target" id="index-30"></span><span class="target" id="index-31"></span><span class="target" id="index-32"></span></section>
</section>
<section id="slot-descriptors">
<span id="pp-langref-slot-descriptors"></span><span id="index-33"></span><h2><span class="section-number">3.2. </span>Slot descriptors<a class="headerlink" href="#slot-descriptors" title="Permalink to this heading">#</a></h2>
<p>An object can have any number of slots. Slots can contain data (<em>data slots</em>) or methods. Some slots have special roles: <em>argument slots</em> are filled in with the actual arguments during a message (<a class="reference internal" href="#pp-mesage-send"><span class="std std-ref">Message send</span></a>), and <em>parent slots</em> specify inheritance relationships (<a class="reference internal" href="#pp-lookup-algorithm"><span class="std std-ref">The lookup algorithm</span></a>).</p>
<p>A <em>slot descriptor</em> consists of an optional privacy specification, followed by the slot name and an optional initializer.</p>
<section id="read-only-slots">
<h3><span class="section-number">3.2.1. </span>Read-only slots<a class="headerlink" href="#read-only-slots" title="Permalink to this heading">#</a></h3>
<p>A slot name followed by an equals sign (‘<code class="docutils literal notranslate"><span class="pre">=</span></code>’) and an expression represents a <em>read-only slot</em> initialized to the result of evaluating the expression in the root context.</p>
<p>For example, a constant point might be defined as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span>   <span class="n">parent</span><span class="o">*</span> <span class="o">=</span> <span class="n">traits</span> <span class="n">point</span><span class="o">.</span>
      <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">4.</span>
      <span class="n">y</span> <span class="o">=</span> <span class="mf">5.</span>
<span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>The resulting point contains three initialized read-only slots:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_4.png"><img alt="_images/Chapter_2_Image_4.png" src="_images/Chapter_2_Image_4.png" style="width: 320.8px; height: 173.60000000000002px;" /></a>
</figure>
<span class="target" id="index-34"></span><span class="target" id="index-35"></span><span class="target" id="index-36"></span></section>
<section id="read-write-slots">
<span id="pp-read-write-slots"></span><span id="index-37"></span><h3><span class="section-number">3.2.2. </span>Read/write slots<a class="headerlink" href="#read-write-slots" title="Permalink to this heading">#</a></h3>
<p>There is no separate assignment operation in Self. Instead, assignments to data slots are message sends that invoke the assignment primitive. For example, a data slot <code class="docutils literal notranslate"><span class="pre">x</span></code> is assignable if and only if there is a slot in the same object with the same name appended with a colon (in this case, <code class="docutils literal notranslate"><span class="pre">x:</span></code>), containing the assignment primitive. Therefore, assigning <code class="docutils literal notranslate"><span class="pre">17</span></code> to slot <code class="docutils literal notranslate"><span class="pre">x</span></code> consists of sending the message <code class="docutils literal notranslate"><span class="pre">x:</span> <span class="pre">17</span></code>. Since this is indistinguishable from a message send that invokes a method, clients do not need to know if <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">x:</span></code> comprise data slot accesses or method invocations.</p>
<p>An identifier followed by a left arrow (the characters ‘<code class="docutils literal notranslate"><span class="pre">&lt;</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">-</span></code>’ concatenated to form ‘<code class="docutils literal notranslate"><span class="pre">&lt;-</span></code>’) and an expression represents an initialized <em>read/write variable</em> (assignable data slot). The object will contain both a data slot of that name and a corresponding assignment slot whose name is obtained by appending a colon to the data slot name. The initializing expression is evaluated in the root context and the result stored into the data slot at parse time.</p>
<p>For example, an initialized mutable point might be defined as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span>   <span class="n">parent</span><span class="o">*</span> <span class="o">=</span> <span class="n">traits</span> <span class="n">point</span><span class="o">.</span>
      <span class="n">x</span> <span class="o">&lt;-</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">4.</span>
      <span class="n">y</span> <span class="o">&lt;-</span> <span class="mf">5.</span>
<span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>producing an object with two data slots (<code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>) and two assignment slots (<code class="docutils literal notranslate"><span class="pre">x:</span></code> and <code class="docutils literal notranslate"><span class="pre">y:</span></code>) containing the assignment primitive (depicted with <code class="docutils literal notranslate"><span class="pre">←</span></code>) <a class="footnote-reference brackets" href="#f4" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_5.png"><img alt="_images/Chapter_2_Image_5.png" src="_images/Chapter_2_Image_5.png" style="width: 342.40000000000003px; height: 235.20000000000002px;" /></a>
</figure>
<p>An identifier by itself specifies an assignable data slot initialized to <em>nil</em> <a class="footnote-reference brackets" href="#f5" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>. Thus, the slot declaration <code class="docutils literal notranslate"><span class="pre">x</span></code> is a shorthand notation for <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;-</span> <span class="pre">nil</span></code>.</p>
<p>For example, a simple mutable point might be defined as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span> <span class="n">x</span><span class="o">.</span> <span class="n">y</span><span class="o">.</span> <span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>producing:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_6.png"><img alt="_images/Chapter_2_Image_6.png" src="_images/Chapter_2_Image_6.png" style="width: 399.20000000000005px; height: 158.4px;" /></a>
</figure>
<span class="target" id="index-38"></span></section>
<section id="slots-containing-methods">
<span id="pp-argument-slots"></span><span id="index-39"></span><h3><span class="section-number">3.2.3. </span>Slots containing methods<a class="headerlink" href="#slots-containing-methods" title="Permalink to this heading">#</a></h3>
<p>If the initializing expression is an object literal with code, that object is stored into the slot <em>without evaluating the code</em>. This allows a slot to be initialized to a method by storing the method itself, rather than its result, in the slot <a class="footnote-reference brackets" href="#f6" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>. Methods may only be stored in read-only slots. A method automatically receives a parent argument slot named <code class="docutils literal notranslate"><span class="pre">self</span></code>. For example, a point addition method can be written as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span>
      <span class="o">+</span> <span class="o">=</span> <span class="p">(</span> <span class="o">|</span> <span class="p">:</span><span class="n">arg</span> <span class="o">|</span> <span class="p">(</span><span class="n">clone</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">arg</span> <span class="n">x</span><span class="p">)</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span> <span class="o">+</span> <span class="n">arg</span> <span class="n">y</span> <span class="p">)</span><span class="o">.</span>
<span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>producing:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/Chapter_2_Image_7.png"><img alt="_images/Chapter_2_Image_7.png" src="_images/Chapter_2_Image_7.png" style="width: 522.4px; height: 154.4px;" /></a>
</figure>
<p>A slot name beginning with a colon indicates an <em>argument</em> slot. The prefixed colon is not part of the slot name and is ignored when matching the name against a message. Argument slots are always read-only, and no initializer may be specified for them. As a syntactic convenience, the argument name may also be written immediately after the slot name (without the prefixed colon), thereby implicitly declaring the argument slot. Thus, the following yields exactly the same object as above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span>
      <span class="o">+</span> <span class="n">arg</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="n">clone</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">arg</span> <span class="n">x</span><span class="p">)</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span> <span class="o">+</span> <span class="n">arg</span> <span class="n">y</span> <span class="p">)</span><span class="o">.</span>
<span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>The + slot above is a <em>binary slot</em> (<a class="reference internal" href="#pp-binary-messages"><span class="std std-ref">Binary messages</span></a>), taking one argument and having a name that consists of operator symbols. Slots like x or y in a point object are <em>unary slots</em> (<a class="reference internal" href="#pp-unary-messages"><span class="std std-ref">Unary messages</span></a>), which take no arguments and have simple identifiers for names. In addition, there are <em>keyword slots</em> (<a class="reference internal" href="#pp-keyword-messages"><span class="std std-ref">Keyword messages</span></a>), which handle messages that require one or more arguments. A keyword slot name is a sequence of identifiers, each followed by a colon.</p>
<p>The arguments in keyword methods are handled analogously to those in binary methods: each colon-terminated identifier in a keyword slot name requires a corresponding argument slot in the keyword method object, and the argument slots may be specified either all in the method or all interspersed with the selector parts.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span>
      <span class="n">ifTrue</span><span class="p">:</span> <span class="kc">False</span><span class="p">:</span> <span class="o">=</span> <span class="p">(</span> <span class="o">|</span> <span class="p">:</span><span class="n">trueBlock</span><span class="o">.</span> <span class="p">:</span><span class="n">falseBlock</span> <span class="o">|</span>
              <span class="n">trueBlock</span> <span class="n">value</span> <span class="p">)</span><span class="o">.</span>
<span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="o">|</span>
      <span class="n">ifTrue</span><span class="p">:</span> <span class="n">trueBlock</span> <span class="kc">False</span><span class="p">:</span> <span class="n">falseBlock</span> <span class="o">=</span>
              <span class="p">(</span> <span class="n">trueBlock</span> <span class="n">value</span> <span class="p">)</span><span class="o">.</span>
<span class="o">|</span> <span class="p">)</span>
</pre></div>
</div>
<p>produce identical objects.</p>
</section>
<section id="parent-slots">
<span id="pp-parent-slots"></span><span id="index-40"></span><h3><span class="section-number">3.2.4. </span>Parent slots<a class="headerlink" href="#parent-slots" title="Permalink to this heading">#</a></h3>
<p>A unary slot name followed by an asterisk denotes a <em>parent slot</em>. The trailing asterisk is not part of the slot name and is ignored when matching the name against a message. Except for their special meaning during the message lookup process (<a class="reference internal" href="#pp-lookup-algorithm"><span class="std std-ref">The lookup algorithm</span></a>), parent slots are exactly like normal unary slots; in particular, they may be assignable, allowing <em>dynamic inheritance</em>. Argument slots cannot be parent slots.</p>
<span class="target" id="index-41"></span></section>
<section id="annotations">
<span id="index-42"></span><h3><span class="section-number">3.2.5. </span>Annotations<a class="headerlink" href="#annotations" title="Permalink to this heading">#</a></h3>
<p>In order to provide extra information for the programming environment, Self supports annotations on either whole objects or individual slots. Although any object can be an annotation, the Self syntax only supports the textual definition of string annotations. In order to annotate an object, use this syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>( | {} = ’this object has one slot’ snort = 17. | ) }
</pre></div>
</div>
<p>In order to annotate a group of slots, surround them with braces and insert the annotation after the opening brace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>( |
      { ’Category: accessing’
            getOne = (...).
            getAnother = (...).
      }
      anUnannotatedSlot.
| )
</pre></div>
</div>
<p>Annotations may nest; if so the Virtual Machine concatenates the annotations strings and inserts a separator character (16r7f) <a class="footnote-reference brackets" href="#f7" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>.</p>
</section>
</section>
<section id="expressions">
<span id="pp-langref-expressions"></span><span id="langref-expressions"></span><h2><span class="section-number">3.3. </span>Expressions<a class="headerlink" href="#expressions" title="Permalink to this heading">#</a></h2>
<p><em>Expressions</em> in Self are <em>messages</em> sent to some object, the <em>receiver</em>. Self message syntax is similar to Smalltalk’s. Self provides three basic kinds of messages: unary messages, binary messages, and keyword messages. Each has its own syntax, associativity, and precedence. Each type of message can be sent either to an explicit or implicit receiver.</p>
<p>Productions <a class="footnote-reference brackets" href="#f8" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a>:</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>expression</p></td>
<td><p>→</p></td>
<td><p>constant | unary-message | binary-message | keyword-message | ‘(’ expression ‘)’</p></td>
</tr>
<tr class="row-even"><td><p>constant</p></td>
<td><p>→</p></td>
<td><p>self | number | string | object</p></td>
</tr>
<tr class="row-odd"><td><p>unary-message</p></td>
<td><p>→</p></td>
<td><p>receiver unary-send | resend ‘.’ unary-send</p></td>
</tr>
<tr class="row-even"><td><p>unary-send</p></td>
<td><p>→</p></td>
<td><p>identifier</p></td>
</tr>
<tr class="row-odd"><td><p>binary-message</p></td>
<td><p>→</p></td>
<td><p>receiver binary-send | resend ‘.’ binary-send</p></td>
</tr>
<tr class="row-even"><td><p>binary-send</p></td>
<td><p>→</p></td>
<td><p>operator expression</p></td>
</tr>
<tr class="row-odd"><td><p>keyword-message</p></td>
<td><p>→</p></td>
<td><p>receiver keyword-send | resend ‘.’ keyword-send</p></td>
</tr>
<tr class="row-even"><td><p>keyword-send</p></td>
<td><p>→</p></td>
<td><p>small-keyword expression { cap-keyword expression }</p></td>
</tr>
<tr class="row-odd"><td><p>receiver</p></td>
<td><p>→</p></td>
<td><p>[ expression ]</p></td>
</tr>
<tr class="row-even"><td><p>resend</p></td>
<td><p>→</p></td>
<td><p>resend | identifier</p></td>
</tr>
</tbody>
</table>
<p>The table below summarizes Self’s message syntax rules:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>MESSAGE</p></th>
<th class="head"><p>ARGUMENTS</p></th>
<th class="head"><p>PRECEDENCE</p></th>
<th class="head"><p>ASSOCIATIVITY</p></th>
<th class="head"><p>SYNTAX</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Unary</p></td>
<td><p>0</p></td>
<td><p>highest</p></td>
<td><p>none</p></td>
<td><p>[receiver] identifier</p></td>
</tr>
<tr class="row-odd"><td><p>Binary</p></td>
<td><p>1</p></td>
<td><p>medium</p></td>
<td><p>none or left-to-right <a class="footnote-reference brackets" href="#f14" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>14<span class="fn-bracket">]</span></a></p></td>
<td><p>[receiver] operator expression</p></td>
</tr>
<tr class="row-even"><td><p>Keyword</p></td>
<td><p>&gt;= 1</p></td>
<td><p>lowest</p></td>
<td><p>right-to-left</p></td>
<td><p>[receiver] small-keyword expression { cap-keyword expression }</p></td>
</tr>
</tbody>
</table>
<p>Parentheses can be used to explicitly specify order of evaluation.</p>
<span class="target" id="index-43"></span><section id="unary-messages">
<span id="pp-unary-messages"></span><span id="index-44"></span><h3><span class="section-number">3.3.1. </span>Unary messages<a class="headerlink" href="#unary-messages" title="Permalink to this heading">#</a></h3>
<p>A <em>unary message</em> does not specify any arguments. It is written as an identifier following the receiver.</p>
<p>Examples of unary messages sent to explicit receivers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">17</span> <span class="nb">print</span>
<span class="mi">5</span> <span class="n">factorial</span>
</pre></div>
</div>
<p><em>Associativity</em>. Unary messages compose from left to right. An expression to print 5 factorial, for example, is written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="n">factorial</span> <span class="nb">print</span>
</pre></div>
</div>
<p>and interpreted as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">5</span> <span class="n">factorial</span><span class="p">)</span> <span class="nb">print</span>
</pre></div>
</div>
<p><em>Precedence</em>. Unary messages have higher precedence than binary messages and keyword messages.</p>
<span class="target" id="index-45"></span><span class="target" id="index-46"></span></section>
<section id="binary-messages">
<span id="pp-binary-messages"></span><span id="index-47"></span><h3><span class="section-number">3.3.2. </span>Binary messages<a class="headerlink" href="#binary-messages" title="Permalink to this heading">#</a></h3>
<p>A <em>binary message</em> has a receiver and a single argument, separated by a binary operator. Examples of binary messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span>
<span class="mi">7</span> <span class="o">&lt;-&gt;</span> <span class="mi">8</span>
</pre></div>
</div>
<p><em>Associativity</em>. Binary messages have no associativity, except between identical operators (which associate from left to right). For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">7</span>
</pre></div>
</div>
<p>is interpreted as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">7</span>
</pre></div>
</div>
<p>But</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">7</span>
</pre></div>
</div>
<p>is illegal: the associativity must be made explicit by writing either</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="o">*</span> <span class="mi">7</span> <span class="ow">or</span> <span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="mi">7</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p><em>Precedence</em>. The precedence of binary messages is lower than unary messages but higher than keyword messages. All binary messages have the same precedence. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">factorial</span> <span class="o">+</span> <span class="n">pi</span> <span class="n">sine</span>
</pre></div>
</div>
<p>is interpreted as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">3</span> <span class="n">factorial</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">pi</span> <span class="n">sine</span><span class="p">)</span>
</pre></div>
</div>
<span class="target" id="index-48"></span><span class="target" id="index-49"></span></section>
<section id="keyword-messages">
<span id="pp-keyword-messages"></span><span id="index-50"></span><h3><span class="section-number">3.3.3. </span>Keyword messages<a class="headerlink" href="#keyword-messages" title="Permalink to this heading">#</a></h3>
<p>A <em>keyword message</em> has a receiver and one or more arguments. It is written as a receiver followed by a sequence of one or more keyword-argument pairs. The first keyword must begin with a lower case letter or underscore (‘<code class="docutils literal notranslate"><span class="pre">_</span></code>’); subsequent keywords must be capitalized. An initial underscore denotes that the operation is a <em>primitive</em>. A keyword message consists of the longest possible sequence of such keyword-argument pairs; the message selector is the concatenation of the keywords forming the message. Message selectors beginning with an underscore are reserved for <em>primitives</em> (<a class="reference internal" href="primitives.html#pp-primitives"><span class="std std-ref">Primitives</span></a>).</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">4</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">7</span>
</pre></div>
</div>
<p>is the single message <code class="docutils literal notranslate"><span class="pre">min:Max:</span></code> sent to <code class="docutils literal notranslate"><span class="pre">5</span></code> with arguments <code class="docutils literal notranslate"><span class="pre">4</span></code> and <code class="docutils literal notranslate"><span class="pre">7</span></code>, whereas</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">4</span> <span class="nb">max</span><span class="p">:</span> <span class="mi">7</span>
</pre></div>
</div>
<p>involves two messages: first the message <code class="docutils literal notranslate"><span class="pre">max:</span></code> sent to <code class="docutils literal notranslate"><span class="pre">4</span></code> and taking <code class="docutils literal notranslate"><span class="pre">7</span></code> as its argument, and then the message <code class="docutils literal notranslate"><span class="pre">min:</span></code> sent to <code class="docutils literal notranslate"><span class="pre">5</span></code>, taking the result of (<code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">max:</span> <span class="pre">7</span></code>) as its argument.</p>
<p><em>Associativity</em>. Keyword messages associate from right to left, so</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">6</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">7</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">8</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">9</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">10</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">11</span>
</pre></div>
</div>
<p>is interpreted as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span> <span class="nb">min</span><span class="p">:</span> <span class="p">(</span><span class="mi">6</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">7</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">8</span> <span class="n">Max</span><span class="p">:</span> <span class="p">(</span><span class="mi">9</span> <span class="nb">min</span><span class="p">:</span> <span class="mi">10</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">11</span><span class="p">))</span>
</pre></div>
</div>
<p>The association order and capitalization requirements are intended to reduce the number of parentheses necessary in Self code. For example, taking the minimum of two slots <code class="docutils literal notranslate"><span class="pre">m</span></code> and <code class="docutils literal notranslate"><span class="pre">n</span></code> and storing the result into a data slot i may be written as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span><span class="p">:</span> <span class="n">m</span> <span class="nb">min</span><span class="p">:</span> <span class="n">n</span>
</pre></div>
</div>
<p><em>Precedence</em>. Keyword messages have the lowest precedence. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span><span class="p">:</span> <span class="mi">5</span> <span class="n">factorial</span> <span class="o">+</span> <span class="n">pi</span> <span class="n">sine</span>
</pre></div>
</div>
<p>is interpreted as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span><span class="p">:</span> <span class="p">((</span><span class="mi">5</span> <span class="n">factorial</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">pi</span> <span class="n">sine</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="implicit-receiver-messages">
<span id="pp-implicit-receiver"></span><span id="index-51"></span><h3><span class="section-number">3.3.4. </span>Implicit-receiver messages<a class="headerlink" href="#implicit-receiver-messages" title="Permalink to this heading">#</a></h3>
<p>Unary, binary, and keyword messages are frequently written without an explicit receiver. Such messages use the current receiver (<code class="docutils literal notranslate"><span class="pre">self</span></code>) as the implied receiver. The method lookup, however, begins at the current activation object rather than the current receiver (see <a class="reference internal" href="#pp-methods"><span class="std std-ref">Methods</span></a> for details on activation objects). Thus, a message sent explicitly to <code class="docutils literal notranslate"><span class="pre">self</span></code> is <em>not</em> equivalent to an implicit-receiver send because the former won’t search local slots before searching the receiver. Explicitly sending messages to <code class="docutils literal notranslate"><span class="pre">self</span></code> is considered bad style.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">factorial</span>        <span class="p">(</span><span class="n">implicit</span><span class="o">-</span><span class="n">receiver</span> <span class="n">unary</span> <span class="n">message</span><span class="p">)</span>
<span class="o">+</span> <span class="mi">3</span>              <span class="p">(</span><span class="n">implicit</span><span class="o">-</span><span class="n">receiver</span> <span class="n">binary</span> <span class="n">message</span><span class="p">)</span>
<span class="nb">max</span><span class="p">:</span> <span class="mi">5</span>           <span class="p">(</span><span class="n">implicit</span><span class="o">-</span><span class="n">receiver</span> <span class="n">keyword</span> <span class="n">message</span><span class="p">)</span>
<span class="mi">1</span> <span class="o">+</span> <span class="n">power</span><span class="p">:</span> <span class="mi">3</span>     <span class="p">(</span><span class="n">parsed</span> <span class="k">as</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">power</span><span class="p">:</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Accesses to slots of the receiver (local or inherited) are also achieved by implicit message sends to <code class="docutils literal notranslate"><span class="pre">self</span></code>. For an assignable data slot named <code class="docutils literal notranslate"><span class="pre">t</span></code>, the message <code class="docutils literal notranslate"><span class="pre">t</span></code> returns the contents, and <code class="docutils literal notranslate"><span class="pre">t:</span> <span class="pre">17</span></code> puts <code class="docutils literal notranslate"><span class="pre">17</span></code> into the slot.</p>
<span class="target" id="index-52"></span></section>
<section id="resending-messages">
<span id="index-53"></span><h3><span class="section-number">3.3.5. </span>Resending messages<a class="headerlink" href="#resending-messages" title="Permalink to this heading">#</a></h3>
<p>A <em>resend</em> allows an overridding method to invoke the overridden method. Directed resends allow ambiguities among overridden methods to be resolved by constraining the lookup to search a single parent slot. Both resends and directed resends may change the name of the message being sent from the name of the current method, and may pass different arguments than the arguments passed to the current method. The receiver of a resend or a directed resend must be the implicit receiver.</p>
<p>Intuitively, resend is similar to Smalltalk’s <code class="docutils literal notranslate"><span class="pre">super</span></code> send and CLOS’ <code class="docutils literal notranslate"><span class="pre">call-next-method</span></code>.</p>
<p>A resend is written as an implicit-receiver message with the reserved word <code class="docutils literal notranslate"><span class="pre">resend</span></code>, a period, and the message name. No whitespace may separate <code class="docutils literal notranslate"><span class="pre">resend</span></code>, the period, and the message name.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">resend</span><span class="o">.</span><span class="n">display</span>
<span class="n">resend</span><span class="o">.+</span> <span class="mi">5</span>
<span class="n">resend</span><span class="o">.</span><span class="n">min</span><span class="p">:</span> <span class="mi">17</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">23</span>
</pre></div>
</div>
<p>A <em>directed resend</em> constrains the resend through a specified parent. It is written similar to a normal resend, but replaces <code class="docutils literal notranslate"><span class="pre">resend</span></code> with the name of the parent slot through which the resend is directed.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">listParent</span><span class="o">.</span><span class="n">height</span>
<span class="n">intParent</span><span class="o">.</span><span class="n">min</span><span class="p">:</span> <span class="mi">17</span> <span class="n">Max</span><span class="p">:</span> <span class="mi">23</span>
</pre></div>
</div>
<p>Only implicit-receiver messages may be delegated via a resend or a directed resend <a class="footnote-reference brackets" href="#f9" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="message-lookup-semantics">
<span id="pp-langref-message-lookup"></span><span id="index-54"></span><h3><span class="section-number">3.3.6. </span>Message lookup semantics<a class="headerlink" href="#message-lookup-semantics" title="Permalink to this heading">#</a></h3>
<p>This section describes the semantics of message lookups in Self. In addition to an informal textual description, the lookup semantics are presented in pseudo-code using the following notation:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>s.name</p></td>
<td><p>The name of slot s.</p></td>
</tr>
<tr class="row-even"><td><p>s.contents</p></td>
<td><p>The object contained in slot s.</p></td>
</tr>
<tr class="row-odd"><td><p>s.isParent</p></td>
<td><p>True iff s is a parent slot.</p></td>
</tr>
<tr class="row-even"><td><p>{s ε obj | pred(s)}</p></td>
<td><p>The set of all slots of object obj that satisfy predicate pred.</p></td>
</tr>
<tr class="row-odd"><td><p>| S |</p></td>
<td><p>The cardinality of set S.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The message sending semantics are decomposed into the following functions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>send(rec, sel, args)</p></td>
<td><p>The message send function (<a class="reference internal" href="#pp-mesage-send"><span class="std std-ref">Message send</span></a>).</p></td>
</tr>
<tr class="row-even"><td><p>lookup(obj, rec, sel, V)</p></td>
<td><p>The lookup algorithm (<a class="reference internal" href="#pp-lookup-algorithm"><span class="std std-ref">The lookup algorithm</span></a>).</p></td>
</tr>
<tr class="row-odd"><td><p>undirected_resend(…)</p></td>
<td><p>The undirected message resend function (<a class="reference internal" href="#pp-undirected-resend"><span class="std std-ref">Undirected Resend</span></a>).</p></td>
</tr>
<tr class="row-even"><td><p>directed_resend(…)</p></td>
<td><p>The directed message resend function (<a class="reference internal" href="#pp-directed-resend"><span class="std std-ref">Directed Resend</span></a>).</p></td>
</tr>
<tr class="row-odd"><td><p>eval(rec, M, args)</p></td>
<td><p>The slot evaluation function as described informally throughout <a class="reference internal" href="#pp-langref-code"><span class="std std-ref">Code</span></a>.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="message-send">
<span id="pp-mesage-send"></span><h3><span class="section-number">3.3.7. </span>Message send<a class="headerlink" href="#message-send" title="Permalink to this heading">#</a></h3>
<p>There are two kinds of message sends: a <em>primitive send</em> has a selector beginning with an underscore (‘<code class="docutils literal notranslate"><span class="pre">_</span></code>’) and calls the corresponding primitive operation. Primitives are predefined functions provided by the implementation. A <em>normal send</em> does a lookup to obtain the target slot; if the lookup was successful, the slot is subsequently evaluated. If the slot contains a data object, then the data object is simply returned. If the slot contains the assignment primitive, the argument of the message is stored in the corresponding data slot. Finally, if the slot contains a method, an activation is created and run as described in <a class="reference internal" href="#pp-methods"><span class="std std-ref">Methods</span></a>.</p>
<p>If the lookup fails, the lookup error is handled in an implementation-defined manner; typically, a message indicating the type of error is sent to the object which could not handle the message.</p>
<p>The function <em>send(rec, sel, args)</em> is defined as follows:</p>
<dl>
<dt><strong>Input</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">rec</span></code>, the receiver of the message</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sel</span></code>, the message selector</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">args</span></code>, the actual arguments</div>
</div>
</dd>
<dt><strong>Output</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">res</span></code>, the result object</div>
</div>
</dd>
</dl>
<p><strong>Algorithm</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if begins_with_underscore(sel)
then invoke_primitive(rec, sel, args)               “primitive call”
else M ← lookup(rec, sel, Ø)                        “do the lookup”
    case
        | M | = 0: error: message not understood
        | M | = 1: res ← eval(rec, M, args)         “see §2.1”
        | M | &gt; 1: error: ambiguous message send
    end
end
return res
</pre></div>
</div>
</section>
<section id="the-lookup-algorithm">
<span id="pp-lookup-algorithm"></span><span id="index-55"></span><h3><span class="section-number">3.3.8. </span>The lookup algorithm<a class="headerlink" href="#the-lookup-algorithm" title="Permalink to this heading">#</a></h3>
<p>The lookup algorithm recursively traverses the inheritance graph, which can be an arbitrary graph (including cyclic graphs). No object is searched twice along any single path. The search begins in the object itself and then continues to search every parent. Parent slots are not evaluated during the lookup. That is, if a parent slot contains an object with code, the code will not be executed; the object will merely be searched for matching slots.</p>
<p>The function <em>lookup(obj, sel, V)</em> is defined as follows:</p>
<dl>
<dt><strong>Input</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">obj</span></code>, the object being searched for matching slots</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sel</span></code>, the message selector</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">V</span></code>, the set of objects already visited along this path</div>
</div>
</dd>
<dt><strong>Output</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">M</span></code>, the set of matching slots</div>
</div>
</dd>
</dl>
<p><strong>Algorithm</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if obj ε V
then M ← Ø                                                  “cycle detection”
else M ← {s ε obj | s.name = sel}                           “try local slots”
    if M = Ø then M ← parent_lookup(obj, sel, V) end        “try parent slots”
end
return M
</pre></div>
</div>
<p>Where <em>parent_lookup(obj, sel, V)</em> is defined as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>P ← {s ε obj | s.isParent}                  “all parents”
M ← υ lookup(s.contents, sel, V υ {obj})    “recursively search parents”
   sεP
return M
</pre></div>
</div>
</section>
<section id="undirected-resend">
<span id="pp-undirected-resend"></span><h3><span class="section-number">3.3.9. </span>Undirected Resend<a class="headerlink" href="#undirected-resend" title="Permalink to this heading">#</a></h3>
<p>An undirected resend ignores the sending method holder (the object containing the currently running method) and continues with its parents.</p>
<p>The function <em>undirected_resend(rec, smh, sel, args)</em> is defined as follows:</p>
<dl>
<dt><strong>Input</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">rec</span></code>, the receiver of the message</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">smh</span></code>, the sending method holder</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sel</span></code>, the message selector</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">args</span></code>, the actual arguments</div>
</div>
</dd>
<dt><strong>Output</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">res</span></code>, the result object</div>
</div>
</dd>
</dl>
<p><strong>Algorithm</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>M ← parent_lookup(smh, sel, Ø)                    “do the lookup”
case
    | M | = 0: error: message not understood
    | M | = 1: res ← eval(rec, M, args)           “see §2.1”
    | M | &gt; 1: error: ambiguous message send
end
return res
</pre></div>
</div>
</section>
<section id="directed-resend">
<span id="pp-directed-resend"></span><h3><span class="section-number">3.3.10. </span>Directed Resend<a class="headerlink" href="#directed-resend" title="Permalink to this heading">#</a></h3>
<p>A directed resend looks only in one slot in the sending method holder.</p>
<p>The function <em>directed_resend(rec, smh, del, sel, args)</em> is defined as follows:</p>
<dl>
<dt><strong>Input</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">rec</span></code>, the receiver of the message</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">smh</span></code>, the sending method holder</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">del</span></code>, the name of the delegatee</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sel</span></code>, the message selector</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">args</span></code>, the actual arguments</div>
</div>
</dd>
<dt><strong>Output</strong>:</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">res</span></code>, the result object</div>
</div>
</dd>
</dl>
<p><strong>Algorithm</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>D ← {s ε smh | s.name = del}                     “find delegatee”
if | D | = 0 then error: missing delegatee       “one or none”
M ← lookup(smh.del, sel, Ø)                      “do the lookup”
case
    | M | = 0: error: message not understood
    | M | = 1: res ← eval(rec, M, args)          “see §2.1”
    | M | &gt; 1: error: ambiguous message send
end
return res
</pre></div>
</div>
</section>
</section>
<section id="lexical-elements">
<h2><span class="section-number">3.4. </span>Lexical elements<a class="headerlink" href="#lexical-elements" title="Permalink to this heading">#</a></h2>
<p>This chapter describes the lexical structure of Self programs — how sequences of characters in Self source code are grouped into lexical tokens. In contrast to syntactic elements described by productions in the rest of this document, the elements of lexical EBNF productions may not be separated by whitespace, i.e. there may not be whitespace within a lexical token. Tokens are formed from the longest sequence of characters possible. Whitespace may separate any two tokens and must separate tokens that would be treated as one token otherwise.</p>
<section id="character-set">
<span id="index-56"></span><h3><span class="section-number">3.4.1. </span>Character set<a class="headerlink" href="#character-set" title="Permalink to this heading">#</a></h3>
<p>Self programs are written using the following characters:</p>
<ul>
<li><p><em>Letters</em>. The fifty-two upper and lower case letters:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz</span></code></p>
</div></blockquote>
</li>
<li><p><em>Digits</em>. The ten numeric digits:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">0123456789</span></code></p>
</div></blockquote>
</li>
<li><p><em>Whitespace</em>. The formatting characters: space, horizontal tab (ASCII HT), newline (NL), carriage return (CR), vertical tab (VT), backspace (BS), and form feed (FF). (Comments are also treated as whitespace.)</p></li>
<li><p><em>Graphic characters</em>. The 32 non-alphanumeric characters:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">!&#64;#$%^&amp;*()_-+=|\~‘{}[]:;&quot;’&lt;&gt;,.?/</span></code></p>
</div></blockquote>
</li>
</ul>
<span class="target" id="index-57"></span><span class="target" id="index-58"></span><span class="target" id="index-59"></span></section>
<section id="index-60">
<span id="identifiers"></span><h3><span class="section-number">3.4.2. </span>Identifiers<a class="headerlink" href="#index-60" title="Permalink to this heading">#</a></h3>
<p>An <em>identifier</em> is a sequence of letters, digits, and underscores (‘_’) beginning with a lowercase letter or an underscore. Case is significant: <code class="docutils literal notranslate"><span class="pre">apoint</span></code> is not the same as <code class="docutils literal notranslate"><span class="pre">aPoint</span></code>.</p>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>small-letter</p></td>
<td><p>→</p></td>
<td><p>‘a’ | ‘b’ | … | ‘z’</p></td>
</tr>
<tr class="row-even"><td><p>cap-letter</p></td>
<td><p>→</p></td>
<td><p>‘A’ | ‘B’ | … | ‘Z’</p></td>
</tr>
<tr class="row-odd"><td><p>letter</p></td>
<td><p>→</p></td>
<td><p>small-letter | cap-letter</p></td>
</tr>
<tr class="row-even"><td><p>identifier</p></td>
<td><p>→</p></td>
<td><p>(small-letter | ‘_’) {letter | digit | ‘_’}</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Examples:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">_IntAdd</span> <span class="pre">cloud9</span> <span class="pre">m</span> <span class="pre">a_point</span></code></p>
</div></blockquote>
<p>The two identifiers <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">resend</span></code> are reserved. Identifiers beginning with underscores are reserved for primitives.</p>
</section>
<section id="keywords">
<span id="pp-keywords"></span><span id="index-61"></span><h3><span class="section-number">3.4.3. </span>Keywords<a class="headerlink" href="#keywords" title="Permalink to this heading">#</a></h3>
<p>Keywords are used as slot names and as message names. They consist of an identifier or a capitalized identifier followed by a colon (‘:’).</p>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>small-keyword</p></td>
<td><p>→</p></td>
<td><p>identifier ‘:’</p></td>
</tr>
<tr class="row-even"><td><p>cap-keyword</p></td>
<td><p>→</p></td>
<td><p>cap-letter {letter | digit | ‘_’} ‘:’</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Examples:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">at:</span> <span class="pre">Put:</span> <span class="pre">_IntAdd:</span></code></p>
</div></blockquote>
</section>
<section id="arguments">
<span id="index-62"></span><h3><span class="section-number">3.4.4. </span>Arguments<a class="headerlink" href="#arguments" title="Permalink to this heading">#</a></h3>
<p>A colon followed by an identifier denotes an <em>argument</em> slot name.</p>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>arg-name</p></td>
<td><p>→</p></td>
<td><p>‘:’ identifier</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Example:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">:name</span></code></div>
</div>
</div></blockquote>
</section>
<section id="operators">
<span id="index-63"></span><h3><span class="section-number">3.4.5. </span>Operators<a class="headerlink" href="#operators" title="Permalink to this heading">#</a></h3>
<p>An <em>operator</em> consists of a sequence of one or more of the following characters:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">!</span> <span class="pre">&#64;</span> <span class="pre">#</span> <span class="pre">$</span> <span class="pre">%</span> <span class="pre">^</span> <span class="pre">&amp;</span> <span class="pre">*</span> <span class="pre">-</span> <span class="pre">+</span> <span class="pre">=</span> <span class="pre">~</span> <span class="pre">/</span> <span class="pre">?</span> <span class="pre">&lt;</span> <span class="pre">&gt;</span> <span class="pre">,</span> <span class="pre">;</span> <span class="pre">|</span> <span class="pre">‘</span> <span class="pre">\</span></code></div>
</div>
</div></blockquote>
<p>Two sequences are reserved and are not operators:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">|</span> <span class="pre">^</span></code></div>
</div>
</div></blockquote>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>op-char</p></td>
<td><p>→</p></td>
<td><p>‘!’ | ‘&#64;’ | ‘#’ | ‘$’ | ‘%’ | ‘^’ | ‘&amp;’ | ‘*’ | ‘-’ | ‘+’ | ‘=’ | ‘~’ | ‘/’ | ‘?’ | ‘&lt;’ | ‘&gt;’ | ‘,’ | ‘;’ | ‘|’ | ‘‘’ | ‘\’</p></td>
</tr>
<tr class="row-even"><td><p>operator</p></td>
<td><p>→</p></td>
<td><p>op-char {op-char}</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Examples:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">-</span> <span class="pre">&amp;&amp;</span> <span class="pre">\|\|</span> <span class="pre">&lt;-&gt;</span> <span class="pre">%</span> <span class="pre">#</span> <span class="pre">&#64;</span> <span class="pre">^</span></code></div>
</div>
</div></blockquote>
<span class="target" id="index-64"></span></section>
<section id="numbers">
<span id="index-65"></span><h3><span class="section-number">3.4.6. </span>Numbers<a class="headerlink" href="#numbers" title="Permalink to this heading">#</a></h3>
<p>Integer literals are written as a sequence of digits, optionally prefixed with a minus sign and/or a
base <a class="footnote-reference brackets" href="#f10" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>10<span class="fn-bracket">]</span></a>. No whitespace is allowed between a minus sign and the digit sequence <a class="footnote-reference brackets" href="#f11" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>11<span class="fn-bracket">]</span></a>. Real constants may
be either written in fixed-point or exponential form.</p>
<p>Integers may be written using bases from 2 to 36. For bases greater than ten, the characters ‘<em>a</em>’
through ‘<em>z</em>’ (case insensitive) represent digit values 10 through 35. The default base is decimal. A
non-decimal number is prefixed by its base value, specified as a decimal number followed by either
‘<em>r</em>’ or ‘<em>R</em>’.</p>
<p>Real numbers may be written in decimal only. The exponent of a floating-point format number indicates
multiplication of the mantissa by 10 raised to the exponent power; i.e.,</p>
<blockquote>
<div><p>nnnnEddd = nnnn × 10 <sup>ddd</sup></p>
</div></blockquote>
<p>A number with a digit that is not appropriate for the base will cause a lexical error, as will an integer
constant that is too large to be represented. If the absolute value of a real constant is too large
or too small to be represented, the value of the constant will be ± infinity or zero, respectively.</p>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>number</p></td>
<td><p>→</p></td>
<td><p>[ ‘-’ ] (integer | real)</p></td>
</tr>
<tr class="row-even"><td><p>integer</p></td>
<td><p>→</p></td>
<td><p>[base] general-digit {general-digit}</p></td>
</tr>
<tr class="row-odd"><td><p>real</p></td>
<td><p>→</p></td>
<td><p>fixed-point | float</p></td>
</tr>
<tr class="row-even"><td><p>fixed-point</p></td>
<td><p>→</p></td>
<td><p>decimal ‘.’ decimal</p></td>
</tr>
<tr class="row-odd"><td><p>float</p></td>
<td><p>→</p></td>
<td><p>decimal [ ‘.’ decimal ] (‘e’ | ‘E’) [ ‘+’ | ‘-’ ] decimal</p></td>
</tr>
<tr class="row-even"><td><p>general-digit</p></td>
<td><p>→</p></td>
<td><p>digit | letter</p></td>
</tr>
<tr class="row-odd"><td><p>decimal</p></td>
<td><p>→</p></td>
<td><p>digit {digit}</p></td>
</tr>
<tr class="row-even"><td><p>base</p></td>
<td><p>→</p></td>
<td><p>decimal (‘r’ | ‘R’)</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Examples:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">123</span> <span class="pre">16r27fe</span> <span class="pre">1272.34e+15</span> <span class="pre">1e10</span></code></p>
</div></blockquote>
<span class="target" id="index-66"></span><span class="target" id="index-67"></span></section>
<section id="strings">
<span id="index-68"></span><h3><span class="section-number">3.4.7. </span>Strings<a class="headerlink" href="#strings" title="Permalink to this heading">#</a></h3>
<p>String constants are enclosed in single quotes (‘’’). With the exception of single quotes and escape
sequences introduced by a backslash (‘\’), all characters (including formatting characters like
newline and carriage return) lying between the delimiting single quotes are included in the string <a class="footnote-reference brackets" href="#f12" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>12<span class="fn-bracket">]</span></a>.</p>
<p>To allow single quotes to appear in a string and to allow non-printing control characters in a string
to be indicated more visibly, Self provides C-like escape sequences:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>\t</p></td>
<td><p>tab</p></td>
<td><p>\b</p></td>
<td><p>backspace</p></td>
<td><p>\n</p></td>
<td><p>newline</p></td>
</tr>
<tr class="row-even"><td><p>\f</p></td>
<td><p>form feed</p></td>
<td><p>\r</p></td>
<td><p>carriage return</p></td>
<td><p>\v</p></td>
<td><p>vertical tab</p></td>
</tr>
<tr class="row-odd"><td><p>\a</p></td>
<td><p>alert (bell)</p></td>
<td><p>\0</p></td>
<td><p>null character</p></td>
<td><p>\ \</p></td>
<td><p>backslash</p></td>
</tr>
<tr class="row-even"><td><p>\’</p></td>
<td><p>single quote</p></td>
<td><p>\”</p></td>
<td><p>double quote</p></td>
<td><p>\?</p></td>
<td><p>question mark</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>A backslash followed by an ‘x’, ‘d’, or ‘o’ specifies the character with the corresponding numeric
encoding in the ASCII character set:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>\xnn</p></td>
<td><p>hexadecimal escape</p></td>
</tr>
<tr class="row-even"><td><p>\dnnn</p></td>
<td><p>decimal escape</p></td>
</tr>
<tr class="row-odd"><td><p>\onnn</p></td>
<td><p>octal escape</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>There must be exactly two hexadecimal digits for hexadecimal character escapes, and exactly three
digits for decimal and octal character escapes. Illegal hexadecimal, decimal, and octal numbers, as
well as character escapes specifying ASCII values greater than 255 will cause a lexical error.</p>
<p>For example, the following characters all denote the carriage return character (ASCII code 13):</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>\r</p></td>
<td><p>\x0d</p></td>
<td><p>\d013</p></td>
<td><p>\o015</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>A long string may be broken into multiple lines by preceding each newline with a backslash. Such
escaped newlines are ignored during formation of the string constant.</p>
<p>A backslash followed by any other character than those listed above will cause a lexical error.</p>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>string</p></td>
<td><p>→</p></td>
<td><p>‘’’ { normal-char | escape-char } ‘’’</p></td>
</tr>
<tr class="row-even"><td><p>normal-char</p></td>
<td><p>→</p></td>
<td><p>any character except ‘\’ and ‘’’</p></td>
</tr>
<tr class="row-odd"><td><p>escape-char</p></td>
<td><p>→</p></td>
<td><p>‘\t’ | ‘\b’ | ‘\n’ | ‘\f’ | ‘\r’ | ‘\v’ | ‘\a’ | ‘\0’ | ‘\ \’ | ‘\’’ | ‘\”’ | ‘\?’ | numeric-escape</p></td>
</tr>
<tr class="row-even"><td><p>numeric-escape</p></td>
<td><p>→</p></td>
<td><p>‘\x’ general-digit general-digit | ( ‘\d’ | ‘\o’ ) digit digit digit</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="comments">
<h3><span class="section-number">3.4.8. </span>Comments<a class="headerlink" href="#comments" title="Permalink to this heading">#</a></h3>
<p>Comments are delimited by double quotes (‘”’). Double quotes may not themselves be embedded
in the body of a comment. All characters (including formatting characters like newline and carriage
return) are part of the body of a comment.</p>
<p>Productions:</p>
<blockquote>
<div><table class="table">
<tbody>
<tr class="row-odd"><td><p>comment</p></td>
<td><p>→</p></td>
<td><p>‘”’ { comment-char } ‘”’</p></td>
</tr>
<tr class="row-even"><td><p>comment-char</p></td>
<td><p>→</p></td>
<td><p>any character except ‘”’</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Example:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;this</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">comment&quot;</span></code></p>
</div></blockquote>
<span class="target" id="index-69"></span><span class="target" id="index-70"></span><span class="target" id="index-71"></span><span class="target" id="index-72"></span><span class="target" id="index-73"></span><span class="target" id="index-74"></span><span class="target" id="index-75"></span><span class="target" id="index-76"></span><span class="target" id="index-77"></span><span class="target" id="index-78"></span><span class="target" id="index-79"></span><span class="target" id="index-80"></span><span class="target" id="index-81"></span><span class="target" id="index-82"></span><span class="target" id="index-83"></span><span class="target" id="index-84"></span><span class="target" id="index-85"></span><span class="target" id="index-86"></span><span class="target" id="index-87"></span><span class="target" id="index-88"></span><span class="target" id="index-89"></span><span class="target" id="index-90"></span><span class="target" id="index-91"></span><span class="target" id="index-92"></span><span class="target" id="index-93"></span><span class="target" id="index-94"></span><span class="target" id="index-95"></span><span class="target" id="index-96"></span><span class="target" id="index-97"></span><span class="target" id="index-98"></span><span class="target" id="index-99"></span><span class="target" id="index-100"></span><span class="target" id="index-101"></span><span class="target" id="index-102"></span><p class="rubric" id="index-103">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>If you wish to use the empty vertical bar notation to create an empty object, note that the parser currently requires a space between the vertical bars.</p>
</aside>
<aside class="footnote brackets" id="f2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>But in that case make sure you put a space after the period, otherwise you will get an obscure error message from the parser.</p>
</aside>
<aside class="footnote brackets" id="f3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>All block objects have the same parent, an object containing the shared behavior for blocks</p>
</aside>
<aside class="footnote brackets" id="f4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p>In the user interface a read/write slot is depicted as a single slot with a colon labelling the button used to access the value of the slot; the assignment slot is not shown, to save screen space. In contrast, a read-only slot has an equals sign on the button.</p>
</aside>
<aside class="footnote brackets" id="f5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">5</a><span class="fn-bracket">]</span></span>
<p><code class="docutils literal notranslate"><span class="pre">nil</span></code> is a predefined object provided by the implementation. It is intended to indicate “not a useful object.”</p>
</aside>
<aside class="footnote brackets" id="f6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">6</a><span class="fn-bracket">]</span></span>
<p>Although a block may be assigned to a slot at any time, it is often not useful to do so: evaluating the slot may result in an error because the activation record for the block’s lexically enclosing scope will have returned; see <a class="reference internal" href="#pp-langref-blocks"><span class="std std-ref">Blocks</span></a>.</p>
</aside>
<aside class="footnote brackets" id="f7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">7</a><span class="fn-bracket">]</span></span>
<p>The current programming environment expects a slot annotation to start with one of a number of keywords, including <code class="docutils literal notranslate"><span class="pre">Category:</span></code>, <code class="docutils literal notranslate"><span class="pre">Comment:</span></code>, and <code class="docutils literal notranslate"><span class="pre">ModuleInfo:</span></code>. See the programming environment manual for more details.</p>
</aside>
<aside class="footnote brackets" id="f8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">8</a><span class="fn-bracket">]</span></span>
<p>In order to simplify the presentation, this grammar is ambiguous; precedence and associativity rules are used to resolve the ambiguities.</p>
</aside>
<aside class="footnote brackets" id="f9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">9</a><span class="fn-bracket">]</span></span>
<p>General delegation for explicit receiver messages is supported through primitives in the implementation (see Appendix 9.8).</p>
</aside>
<aside class="footnote brackets" id="f10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">10</a><span class="fn-bracket">]</span></span>
<p>Unlike Smalltalk, integer literals are limited in range to smallInts.</p>
</aside>
<aside class="footnote brackets" id="f11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">11</a><span class="fn-bracket">]</span></span>
<p>In situations where parsing the minus sign as part of the number would cause a parse error (for example, in the expression a-1), the minus is interpreted as a binary message (a - 1).</p>
</aside>
<aside class="footnote brackets" id="f12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">12</a><span class="fn-bracket">]</span></span>
<p>When typing strings in, the graphical user interface accepts multi-line strings, but the character-based read-evalprint loop does not.</p>
</aside>
<aside class="footnote brackets" id="f13" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>13<span class="fn-bracket">]</span></span>
<p>In order to simplify the presentation, this grammar is ambiguous; precedence and associativity rules are used to resolve the ambiguities.</p>
</aside>
<aside class="footnote brackets" id="f14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">14</a><span class="fn-bracket">]</span></span>
<p>Heterogeneous binary messages have no associativity; homogeneous binary messages associate left-to-right.</p>
</aside>
</aside>
</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="gettingstarted.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Getting Started</p>
      </div>
    </a>
    <a class="right-next"
       href="selfwrld.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>The Self World</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objects">3.1. Objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">3.1.1. Syntax</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-objects">3.1.2. Data objects</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-assignment-primitive">3.1.3. The assignment primitive</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objects-with-code">3.1.4. Objects with code</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code">3.1.5. Code</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#methods">3.1.6. Methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blocks">3.1.7. Blocks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#returns">3.1.8. Returns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construction-of-object-literals">3.1.9. Construction of object literals</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#slot-descriptors">3.2. Slot descriptors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-only-slots">3.2.1. Read-only slots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-write-slots">3.2.2. Read/write slots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slots-containing-methods">3.2.3. Slots containing methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parent-slots">3.2.4. Parent slots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#annotations">3.2.5. Annotations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expressions">3.3. Expressions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unary-messages">3.3.1. Unary messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#binary-messages">3.3.2. Binary messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keyword-messages">3.3.3. Keyword messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implicit-receiver-messages">3.3.4. Implicit-receiver messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resending-messages">3.3.5. Resending messages</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#message-lookup-semantics">3.3.6. Message lookup semantics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#message-send">3.3.7. Message send</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-lookup-algorithm">3.3.8. The lookup algorithm</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#undirected-resend">3.3.9. Undirected Resend</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#directed-resend">3.3.10. Directed Resend</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lexical-elements">3.4. Lexical elements</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#character-set">3.4.1. Character set</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#index-60">3.4.2. Identifiers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keywords">3.4.3. Keywords</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arguments">3.4.4. Arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operators">3.4.5. Operators</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numbers">3.4.6. Numbers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#strings">3.4.7. Strings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comments">3.4.8. Comments</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/langref.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, Russell Allen (Ed.).
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>